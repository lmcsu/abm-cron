"use strict";function _toConsumableArray(n){return _arrayWithoutHoles(n)||_iterableToArray(n)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function _arrayWithoutHoles(n){if(Array.isArray(n)){for(var e=0,r=new Array(n.length);e<n.length;e++)r[e]=n[e];return r}}!function(){function o(n){var e=new Date(0);return e.setUTCFullYear(n[6]),e.setUTCMonth(n[4]-1),e.setUTCDate(n[3]),e.setUTCHours(n[2]),e.setUTCMinutes(n[1]),e.setUTCSeconds(n[0]),e}function f(n){return[n.getUTCSeconds(),n.getUTCMinutes(),n.getUTCHours(),n.getUTCDate(),n.getUTCMonth()+1,n.getUTCDay(),n.getUTCFullYear()]}function n(n){for(var p=function(n,e){for(var r=[],t=n;t<=e;t++)r.push(t);return r},e=function(r,t){for(var n,a=x[t],e=r.split(","),u=function(n){var e=[a.min];try{e=function(n,e){var r=x[e],t=n.split("/");if(2<t.length)throw new Error('Incorrect incrementation "'.concat(n,'"'));var a="*"===t[0]?r.min+"-"+r.max:t[0],u=1<t.length?parseInt(t[1],10):null;if(null!==u&&(isNaN(u)||u<1))throw new Error('Incorrect increment value "'.concat(t[1],'"'));var o={};if(r.alt)for(var l=0;l<r.alt.length;l++)o[r.alt[l]]=l+r.min;function i(n){var e=n,r=n.toUpperCase();if(void 0!==o[r]&&(e=o[r]),e=parseInt(e,10),isNaN(e))throw new Error('Incorrect value "'.concat(n,'"'));return e}var f,s,c=null,v=null,h=a.split("-");if(0<h.length&&(c=i(h[0])),1===h.length)f=[c];else{if(2!==h.length)throw new Error('Incorrect range "'.concat(a,'"'));if((v=i(h[1]))<c)throw new Error('The max value is less than the min value in range "'.concat(a,'"'));f=p(c,v)}if(null!==u&&(null===v&&(f=p(c,r.max)),f=f.filter(function(n){return(n-c)%u==0})),r.sundayFix){for(var m=f,d=[],g=0;g<m.length;g++)d.push(7===(s=m[g])?0:s);f=d}return f}(n,t)}catch(n){console.error('Parse error "'.concat(r,'": ').concat(n.message))}return e},o=[],l=0;l<e.length;l++)o.push(u(e[l]));var i=o;i=(n=[]).concat.apply(n,_toConsumableArray(i));for(var f,s=[],c=i,v=0;v<c.length;v++)f=c[v],s.indexOf(f)<0&&s.push(f);var h=(i=(i=s).sort(function(n,e){return n-e}))[0],m=i[i.length-1],d=null;return h<a.min?d=h:m>a.max&&(d=m),null!==d&&console.error('Value is out of bounds "'.concat(d,'" in "').concat(r,'"')),i},r=n.replace(/\s+/g," ").trim().split(" "),t=x.length-1-r.length-1;0<=t;t--)r.unshift(x[t].defaultValue);r.length===x.length-1&&r.push(x[6].defaultValue);for(var a,u=r,o=[],l=0;l<u.length;l++)o.push((a=u[l],e(a,l)));return o}function l(e){function s(n,e){var r=x[4].lengths[n-x[4].min];return 2===n&&function(n){return n%4==0&&n%100!=0||n%400==0}(e)&&r++,r}function o(n){return-1!==e[n].indexOf(c[n])}function l(n){c[n]+=i?-1:1;for(var e=v.indexOf(n)-1;0<=e;e--){var r=v[e],t=x[r],a=i?t.max:t.min;i&&3===r&&(a=s(c[4],c[6])),c[r]=a}return!0}function a(n){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=x[n].min,t=x[n].max;i||3!==n||(t=s(c[4],c[6]));for(var a=c[n],u=!e;r<=a&&a<=t;){if(u&&o(n))return!0;a+=i?-1:1,l(n),u=!0}return!1}function n(){for(var n=!1;a(2,n);){for(var e=!1;a(1,e);){if(a(0))return!0;e=!0}n=!0}return!1}function r(){for(var n,e=!1;a(6,e);){for(var r=!1;a(4,r);){for(var t=!1;a(3,t);){if(n=void 0,(n=new Date).setUTCFullYear(c[6]),n.setUTCMonth(c[4]-1),n.setUTCDate(c[3]),c[5]=n.getDay(),o(5))return!0;t=!0}r=!0}e=!0}return!1}var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],u=null===t?new Date:new Date(t),c=f(u);if(!r())return!1;if(!n()){if(l(3),!function(){for(var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:6,e=v.indexOf(n);e<v.length;e++){var r=v[e],t=x[r],a=6!==r&&v[e+1],u=t.min,o=3===r?s(c[4],c[6]):t.max,l=c[r]<u,i=c[r]>o;if(!l&&!i)break;if(6===r)return!1;var f=l?o:u;l&&3===r&&(f="MAX"),c[r]=f,!1!==a&&(c[a]+=l?-1:1)}return"MAX"===c[3]&&(c[3]=s(c[4],c[6])),!0}(3))return!1;if(!r())return!1;n()}return c}function r(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],t=null===e?new Date:new Date(e),a=l(n,e,r);if(!1===a)return!1;var u=o(a);return Math.abs(u.getTime()-t.getTime())}function e(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=l(n,e,!0);return!1!==r&&o(r)}function t(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=l(n,e,!1);return!1!==r&&o(r)}function a(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return r(n,e,!0)}function u(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return r(n,e,!1)}function i(n){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=f(null===e?new Date:new Date(e)),t=!0,a=0;a<r.length;a++)if(-1===n[a].indexOf(r[a])){t=!1;break}return t}var x=[{min:0,max:59,defaultValue:"0"},{min:0,max:59,defaultValue:"0"},{min:0,max:23,defaultValue:"0"},{min:1,max:31,defaultValue:"*"},{min:1,max:12,defaultValue:"*",alt:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],lengths:[31,28,31,30,31,30,31,31,30,31,30,31]},{min:0,max:6,defaultValue:"*",alt:["SUN","MON","TUE","WED","THU","FRI","SAT"],sundayFix:!0},{min:1970,max:2099,defaultValue:"*"}],v=[0,1,2,3,4,6];"undefined"!=typeof module&&void 0!==module.exports?(module.exports.parse=n,module.exports.lastRun=e,module.exports.nextRun=t,module.exports.lastRunElapsed=a,module.exports.nextRunRemains=u,module.exports.fits=i):window.abmCron={parse:n,lastRun:e,nextRun:t,lastRunElapsed:a,nextRunRemains:u,fits:i}}();